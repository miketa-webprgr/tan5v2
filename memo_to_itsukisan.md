# itsukiさん

昨日はポートフォリオレビューおつかれさまでした。  
めがねをかけていた、みけたです。  

- 勝手にGithubのリポジトリをフォークして、少しだけリファクタリングしてみました。  
- ER図のことを言っていたので、`gem 'rails-erd'`を使って、ER図を出力してみました。  
- 昨日は、JSに関する言及がなかったので、少しだけ個人的な感想を書かせていただきました。  
- だいそんさんが言っていたEnumについて
  - 知らない場合、口頭だと「いーなむ？」となるんじゃないかなと思ったので、お節介ながら補足させていただきました。  
- だいそんさんが言っていたルーティングについて
  - 思いついたので、だいそんさんがまとめているやつを紹介します！  

指導する立場でもないのにすみません。  
モデルにメソッドを寄せるのが好きなので、ついやっちゃいました笑  

互いに頑張りましょう！  
ひとまず、おつかれさまでした！！  

## リファクタリングについて

昨日、コントローラのロジックをメソッドをモデルにうつせばいいのではないか、  
という提案をさせていただいたのですが、せっかくなのでやってみました。  

・・・本当に、ただモデルに寄せただけですけど（汗  

適切な名前をつけた独自メソッドを作ることで、何のロジックを書いているか明確になるので、  
可読性が上がりますし、いわゆるファットコントローラを避けることができます。  

Userモデルで既にメソッドを作られているので、単純に時間的な都合でそうなっているだけ  
なんでしょうけど、よければ参考にしてください。  

ちょっと試した限り、リファクタリング後でも正常に動くかと思います。  

## ER図について

簡易的で良ければ、このgemを使うとそれっぽいものが出てきます。  

https://qiita.com/TaichiroHasegawa/items/4195cef3865b89589dd9

## JSについて

誰も指摘してなかったですが、直感的に見て、「ああ、JS大変そうだな」  
という感じはありましたが、やっぱり'play_wordnote.js'をみてすごいなと思いました。  

（時間の制約上、だいそんさんはRailsの肝となってくるDB設計やルーティングあたりなどの  
　バックエンド側を見て、厳しい指摘をしていましたが、フロント側を見ると、まずこの努力  
　を絶対認めると思います。だって、すごいですもん。。。  ）

私はJSが全く分からないので解読する気も起きませんが、たぶん360行もJS書いている  
ポートフォリオってなかなかないんじゃないでしょうか。。。 素直に尊敬します。  
JSの良い勉強方法を教えてもらいたいです。  

あと、JSを書いているのがここだけじゃないっていうのもすごいです。。。  

## enumについて

Boolean型だと２択なので足りない。。。  
じゃあ、String型にして、それに一致するかどうかで分岐させればいいか。。。  

ということで実装をされていたかと思いますが、enumという便利なものがあります。  

- [【Rails】Enumってどんな子？使えるの？ \- Qiita](https://qiita.com/ozackiee/items/17b91e26fad58e147f2e)

## ルーティングについて

基本的には、resourcesやresourceしか使わない。  
memberやcollectionを使って、独自のアクションを追加するな！

・・・というのが、DHH流らしいです。誇張して言いましたが。  

DHHっていうのは、David Heinemeier Hanssonさんっていうデンマーク人のプログラマーさんで、  
Railsを作った人です。私も初めて知りましたけど、まだ41歳らしいです。。。  

しかも、モータースポーツがすごいらしいです。  
Wikipedia（日本語）を見ると、シューマッハ的な人なのかと勘違いしそうになります笑  

本題からそれましたが、だいそんさんがルーティングについての記事をまとめてます。  
ルーティング以外のものも参考になるものが多いので、気になるものを読むとよいかと思います！  

- [DaichiSaito/rails\_good\_reference: Railsおよびその周辺知識に関する参考記事をまとめる](https://github.com/DaichiSaito/rails_good_reference#%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0)
